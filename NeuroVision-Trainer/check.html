<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Vision Check - ç°¡æ˜“è¦–åŠ›æ¤œæŸ»</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* è¦–åŠ›æ¤œæŸ»å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .calibration-box {
            border: 2px dashed var(--accent-color);
            background: #f9f9f9;
            margin: 10px auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #landolt-container {
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        .landolt-ring {
            border: 0 solid #333;
            border-radius: 50%;
            box-sizing: border-box;
            position: relative;
        }
        .landolt-gap {
            position: absolute;
            background: var(--container-bg);
        }
        .check-ui { display: none; }
        .result-display { font-size: 2rem; color: var(--accent-color); font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html">â† æˆ»ã‚‹</a>
            <div id="status">è¨­å®šä¸­...</div>
        </div>

        <div id="setup-section">
            <h3>1. ç”»é¢ã‚µã‚¤ã‚ºã®èª¿æ•´</h3>
            <p class="sub-text">æ‰‹æŒã¡ã®ã‚«ãƒ¼ãƒ‰ï¼ˆã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç­‰ï¼‰ã‚’ç”»é¢ã«å½“ã¦ã€ä¸‹ã®æ ã®ã‚µã‚¤ã‚ºã‚’åˆã‚ã›ã¦ãã ã•ã„ã€‚(æ¨ªå¹…ãŒ85.6mm)</p>
            <div id="calib-box" class="calibration-box" style="width: 300px; height: 180px;">
                ğŸ’³ ã‚«ãƒ¼ãƒ‰ã‚’é‡ã­ã¦ãã ã•ã„
            </div>
            <input type="range" id="calib-slider" min="100" max="600" value="300" style="width: 100%;">
            
            <h3 style="margin-top:20px;">2. æ¸¬å®šè·é›¢ã®é¸æŠ</h3>
            <select id="distance-select" class="btn" style="background-color: #ffffff !important; color: #000000 !important; border: 2px solid #ccc; cursor: pointer; -webkit-appearance: menulist;">
                <option value="500">50cm (ã‚¹ãƒãƒ›ãƒ»PCè¿‘æ¥)</option>
                <option value="1000">1m (å°‘ã—é›¢ã‚Œã¦)</option>
                <option value="3000">3m (æœ¬æ ¼æ¸¬å®š)</option>
            </select>
            <button id="setup-complete-btn" class="btn">æ¤œæŸ»é–‹å§‹</button>
        </div>

        <div id="test-section" class="check-ui">
            <div id="landolt-container">
                <div id="ring" class="landolt-ring">
                    <div id="gap" class="landolt-gap"></div>
                </div>
            </div>
            <p class="instruction">åˆ‡ã‚Œç›®ã¯ã©ã¡ã‚‰ã‚’å‘ã„ã¦ã„ã¾ã™ã‹ï¼Ÿ</p>
            <div class="control-panel" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                <div></div><button class="btn dir-btn" data-dir="top">â†‘</button><div></div>
                <button class="btn dir-btn" data-dir="left">â†</button>
                <button class="btn dir-btn" data-dir="bottom">â†“</button>
                <button class="btn dir-btn" data-dir="right">â†’</button>
            </div>
        </div>

        <div id="result-section" class="check-ui" style="text-align: center;">
            <h3>ã‚ãªãŸã®æ¨å®šè¦–åŠ›</h3>
            <div id="final-result" class="result-display">0.0</div>
            <p>â€»æœ¬çµæœã¯ç›®å®‰ã§ã™ã€‚æ­£ç¢ºãªæ¤œæŸ»ã¯çœ¼ç§‘ã‚’å—è¨ºã—ã¦ãã ã•ã„ã€‚</p>
            
            <div id="history-container" style="margin-top: 30px; text-align: left; border-top: 1px solid #ccc; padding-top: 15px;">
                <h4>éå»ã®è¨˜éŒ²</h4>
                <ul id="history-list" style="list-style: none; padding: 0; max-height: 150px; overflow-y: auto;">
                    </ul>
                <button id="clear-history" class="btn-small" style="background: #ff4757; margin-top: 10px;">å±¥æ­´ã‚’æ¶ˆå»</button>
            </div>
        
            <button onclick="location.reload()" class="btn" style="margin-top: 20px;">å†æ¤œæŸ»</button>
        </div>
    </div>

    <script src="js/core.js"></script>
    <script src="js/check-logic.js"></script>
</body>
</html>
